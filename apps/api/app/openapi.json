{
  "openapi": "3.1.0",
  "info": {
    "title": "Automatic Data Extractor API",
    "version": "0.1.0"
  },
  "paths": {
    "/api/v1/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Service health status",
        "description": "Return the current health information for ADE.",
        "operationId": "read_health_api_v1_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/setup/status": {
      "get": {
        "tags": [
          "setup"
        ],
        "summary": "Return whether initial administrator setup is required",
        "operationId": "read_setup_status_api_v1_setup_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetupStatus"
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/api/v1/setup": {
      "post": {
        "tags": [
          "setup"
        ],
        "summary": "Create the first administrator account",
        "operationId": "complete_setup_api_v1_setup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionEnvelope"
                }
              }
            }
          },
          "409": {
            "description": "Initial setup already completed or email already in use.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/api/v1/auth/providers": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "List configured authentication providers",
        "operationId": "list_auth_providers_api_v1_auth_providers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderDiscoveryResponse"
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/api/v1/auth/session": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Return the active session profile",
        "operationId": "read_session_api_v1_auth_session_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionEnvelope"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to access the session profile.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ]
      },
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Create a browser session with email and password",
        "description": "Authenticate with credentials and establish the session cookies.",
        "operationId": "create_session_api_v1_auth_session_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionEnvelope"
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials provided.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "User account is inactive or locked.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": []
      },
      "delete": {
        "tags": [
          "auth"
        ],
        "summary": "Terminate the active session",
        "description": "Remove authentication cookies and end the session.",
        "operationId": "delete_session_api_v1_auth_session_delete",
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Session token is missing or invalid.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "CSRF validation failed for the logout request.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ]
      }
    },
    "/api/v1/auth/session/refresh": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Refresh the active browser session",
        "description": "Rotate the session using the refresh cookie and re-issue cookies.",
        "operationId": "refresh_session_api_v1_auth_session_refresh_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionEnvelope"
                }
              }
            }
          },
          "401": {
            "description": "Refresh token missing or invalid.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "CSRF validation failed for the refresh request.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Return the authenticated user profile",
        "description": "Return profile information for the active user.",
        "operationId": "read_me_api_v1_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to access the profile.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Service account credentials cannot access this endpoint.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ]
      }
    },
    "/api/v1/auth/api-keys": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "List issued API keys",
        "operationId": "list_api_keys_api_v1_auth_api_keys_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/APIKeySummary"
                  },
                  "type": "array",
                  "title": "Response List Api Keys Api V1 Auth Api Keys Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to list API keys.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Administrator role required to list API keys.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ]
      },
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Issue a new API key for a user",
        "operationId": "create_api_key_api_v1_auth_api_keys_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/APIKeyIssueRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIKeyIssueResponse"
                }
              }
            }
          },
          "400": {
            "description": "Email required or target user is inactive.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage API keys.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Administrator role required to issue API keys.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Specified user could not be found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ]
      }
    },
    "/api/v1/auth/api-keys/{api_key_id}": {
      "delete": {
        "tags": [
          "auth"
        ],
        "summary": "Revoke an API key",
        "operationId": "revoke_api_key_api_v1_auth_api_keys__api_key_id__delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "api_key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Api Key Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "401": {
            "description": "Authentication required to revoke API keys.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Administrator role required to revoke API keys.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "API key not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/sso/login": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Initiate the SSO login flow",
        "operationId": "start_sso_login_api_v1_auth_sso_login_get",
        "parameters": [
          {
            "name": "next",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Next"
            }
          }
        ],
        "responses": {
          "302": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "SSO login is not configured for this deployment.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/api/v1/auth/sso/callback": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Handle the SSO callback and establish a session",
        "operationId": "finish_sso_login_api_v1_auth_sso_callback_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Code"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "State"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionEnvelope"
                }
              }
            }
          },
          "400": {
            "description": "Callback parameters invalid or identity provider response rejected.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "User account associated with the SSO identity is disabled.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "502": {
            "description": "ADE could not reach the identity provider during the SSO exchange.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Return the authenticated user profile",
        "operationId": "read_me_api_v1_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ]
      }
    },
    "/api/v1/users": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "List all users (administrator only)",
        "operationId": "list_users_api_v1_users_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 25,
              "title": "Page Size"
            }
          },
          {
            "name": "include_total",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Include Total"
            }
          },
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 2,
                  "maxLength": 128
                },
                {
                  "type": "null"
                }
              ],
              "title": "Q"
            }
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Active"
            }
          },
          {
            "name": "is_service_account",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Service Account"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "CSV; prefix '-' for DESC. Allowed: created_at, display_name, email, failed_login_count, id, is_active, is_service_account, last_login_at, updated_at. Example: -created_at,name",
              "title": "Sort"
            },
            "description": "CSV; prefix '-' for DESC. Allowed: created_at, display_name, email, failed_login_count, id, is_active, is_service_account, last_login_at, updated_at. Example: -created_at,name"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/roles": {
      "get": {
        "tags": [
          "roles"
        ],
        "summary": "List global role definitions",
        "description": "Return the catalog of global roles.",
        "operationId": "list_global_roles_api_v1_roles_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "scope",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ScopeType",
              "description": "Role scope to list (global only)",
              "default": "global"
            },
            "description": "Role scope to list (global only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RoleRead"
                  },
                  "title": "Response List Global Roles Api V1 Roles Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to list roles."
          },
          "403": {
            "description": "Caller lacks global role read permission."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "roles"
        ],
        "summary": "Create a global role",
        "description": "Create a new global role definition.",
        "operationId": "create_global_role_endpoint_api_v1_roles_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "scope",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ScopeType",
              "description": "Role scope to create (global only)",
              "default": "global"
            },
            "description": "Role scope to create (global only)"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleRead"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage roles."
          },
          "403": {
            "description": "Caller lacks global role management permission."
          },
          "409": {
            "description": "Role slug already exists."
          },
          "422": {
            "description": "Role payload is invalid."
          }
        }
      }
    },
    "/api/v1/roles/{role_id}": {
      "get": {
        "tags": [
          "roles"
        ],
        "summary": "Retrieve a role definition",
        "description": "Return a single role definition with permissions.",
        "operationId": "read_role_detail_api_v1_roles__role_id__get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Role Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleRead"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to view roles."
          },
          "403": {
            "description": "Caller lacks permission to view the role."
          },
          "404": {
            "description": "Role not found."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "roles"
        ],
        "summary": "Update a role",
        "description": "Update the specified role in its scope.",
        "operationId": "update_role_definition_api_v1_roles__role_id__patch",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Role Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleRead"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to update roles."
          },
          "400": {
            "description": "Role is not editable."
          },
          "403": {
            "description": "Caller lacks permission to modify the role."
          },
          "404": {
            "description": "Role not found."
          },
          "409": {
            "description": "Role slug or permissions conflict."
          },
          "422": {
            "description": "Role payload is invalid."
          }
        }
      },
      "delete": {
        "tags": [
          "roles"
        ],
        "summary": "Delete a role",
        "description": "Delete the specified role definition.",
        "operationId": "delete_role_definition_api_v1_roles__role_id__delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Role Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Authentication required to delete roles."
          },
          "400": {
            "description": "Role is not deletable."
          },
          "403": {
            "description": "Caller lacks permission to delete the role."
          },
          "404": {
            "description": "Role not found."
          },
          "409": {
            "description": "Role is still assigned to principals."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/role-assignments": {
      "get": {
        "tags": [
          "roles"
        ],
        "summary": "List global role assignments",
        "description": "Return global role assignments filtered by optional identifiers.",
        "operationId": "list_global_role_assignments_api_v1_role_assignments_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "principal_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "type": "null"
                }
              ],
              "title": "Principal Id"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "name": "role_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "type": "null"
                }
              ],
              "title": "Role Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RoleAssignmentRead"
                  },
                  "title": "Response List Global Role Assignments Api V1 Role Assignments Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to list role assignments."
          },
          "403": {
            "description": "Caller lacks global role assignment read permission."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "roles"
        ],
        "summary": "Assign a global role to a principal",
        "description": "Create or return an existing global role assignment.",
        "operationId": "create_global_role_assignment_api_v1_role_assignments_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleAssignmentCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleAssignmentRead"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage role assignments."
          },
          "403": {
            "description": "Caller lacks global role assignment permission."
          },
          "404": {
            "description": "Principal or role not found."
          },
          "422": {
            "description": "Invalid role assignment payload."
          }
        }
      }
    },
    "/api/v1/role-assignments/{assignment_id}": {
      "delete": {
        "tags": [
          "roles"
        ],
        "summary": "Delete a global role assignment",
        "description": "Delete a global role assignment by identifier.",
        "operationId": "delete_global_role_assignment_api_v1_role_assignments__assignment_id__delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "assignment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Assignment Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Authentication required to manage role assignments."
          },
          "403": {
            "description": "Caller lacks global role assignment permission."
          },
          "404": {
            "description": "Role assignment not found."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/role-assignments": {
      "get": {
        "tags": [
          "roles"
        ],
        "summary": "List workspace role assignments",
        "description": "Return workspace role assignments filtered by optional identifiers.",
        "operationId": "list_workspace_role_assignments_api_v1_workspaces__workspace_id__role_assignments_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Workspace Id"
            }
          },
          {
            "name": "principal_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "type": "null"
                }
              ],
              "title": "Principal Id"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "name": "role_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "type": "null"
                }
              ],
              "title": "Role Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RoleAssignmentRead"
                  },
                  "title": "Response List Workspace Role Assignments Api V1 Workspaces  Workspace Id  Role Assignments Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to list assignments."
          },
          "403": {
            "description": "Caller lacks workspace membership read permission."
          },
          "404": {
            "description": "Workspace not found."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "roles"
        ],
        "summary": "Assign a workspace role to a principal",
        "description": "Create or return an existing workspace role assignment.",
        "operationId": "create_workspace_role_assignment_api_v1_workspaces__workspace_id__role_assignments_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Workspace Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleAssignmentCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleAssignmentRead"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage workspace assignments."
          },
          "403": {
            "description": "Caller lacks workspace membership management permission."
          },
          "404": {
            "description": "Workspace, principal, or role not found."
          },
          "422": {
            "description": "Invalid role assignment payload."
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/role-assignments/{assignment_id}": {
      "delete": {
        "tags": [
          "roles"
        ],
        "summary": "Delete a workspace role assignment",
        "description": "Delete a workspace role assignment by identifier.",
        "operationId": "delete_workspace_role_assignment_api_v1_workspaces__workspace_id__role_assignments__assignment_id__delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Workspace Id"
            }
          },
          {
            "name": "assignment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Assignment Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Authentication required to manage workspace assignments."
          },
          "403": {
            "description": "Caller lacks workspace membership management permission."
          },
          "404": {
            "description": "Role assignment or workspace not found."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/permissions": {
      "get": {
        "tags": [
          "roles"
        ],
        "summary": "List permission catalog entries",
        "description": "Return permission registry entries filtered by ``scope``.",
        "operationId": "list_permissions_api_v1_permissions_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "scope",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scope"
            }
          },
          {
            "name": "workspace_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Workspace Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PermissionRead"
                  },
                  "title": "Response List Permissions Api V1 Permissions Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to list permissions."
          },
          "403": {
            "description": "Caller lacks permission catalog access."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/me/permissions": {
      "get": {
        "tags": [
          "roles"
        ],
        "summary": "Return the caller's effective permission set",
        "description": "Return global and optional workspace permissions for the active user.",
        "operationId": "read_effective_permissions_api_v1_me_permissions_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional workspace identifier for scoped permissions.",
              "title": "Workspace Id"
            },
            "description": "Optional workspace identifier for scoped permissions."
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EffectivePermissionsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to inspect permissions."
          },
          "403": {
            "description": "Workspace access denied for the requested identifier."
          },
          "404": {
            "description": "Workspace not found when scoped permissions are requested."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/me/permissions/check": {
      "post": {
        "tags": [
          "roles"
        ],
        "summary": "Check whether the caller has specific permissions",
        "description": "Return a permission map describing whether the caller has each key.",
        "operationId": "check_permissions_api_v1_me_permissions_check_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermissionCheckRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermissionCheckResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to evaluate permissions."
          },
          "403": {
            "description": "Workspace access denied for the requested identifier."
          },
          "404": {
            "description": "Workspace not found when scoped permissions are requested."
          },
          "422": {
            "description": "Invalid permission keys or missing workspace identifier."
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ]
      }
    },
    "/api/v1/workspaces": {
      "get": {
        "tags": [
          "workspaces"
        ],
        "summary": "List workspaces for the authenticated user",
        "operationId": "list_workspaces_api_v1_workspaces_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/WorkspaceProfile"
                  },
                  "type": "array",
                  "title": "Response List Workspaces Api V1 Workspaces Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to list workspaces.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Service account credentials cannot access workspace listings.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ]
      },
      "post": {
        "tags": [
          "workspaces"
        ],
        "summary": "Create a new workspace",
        "operationId": "create_workspace_api_v1_workspaces_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkspaceCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkspaceProfile"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage workspaces.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Administrator role required to create workspaces.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Specified owner could not be found or is inactive.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "409": {
            "description": "Workspace slug already exists.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Workspace name or slug is invalid.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}": {
      "get": {
        "tags": [
          "workspaces"
        ],
        "summary": "Retrieve workspace context by identifier",
        "operationId": "read_workspace_api_v1_workspaces__workspace_id__get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkspaceProfile"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to view workspace context.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace access denied for the authenticated user.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Workspace not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "workspaces"
        ],
        "summary": "Update workspace metadata",
        "operationId": "update_workspace_api_v1_workspaces__workspace_id__patch",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkspaceUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkspaceProfile"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to update workspaces.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow settings management.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Workspace not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "409": {
            "description": "Workspace slug already exists.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Workspace name or slug is invalid.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "workspaces"
        ],
        "summary": "Delete a workspace",
        "operationId": "delete_workspace_api_v1_workspaces__workspace_id__delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DefaultResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to delete workspaces.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow workspace deletion.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Workspace not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/members": {
      "get": {
        "tags": [
          "workspaces"
        ],
        "summary": "List members within the workspace",
        "operationId": "list_members_api_v1_workspaces__workspace_id__members_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WorkspaceMember"
                  },
                  "title": "Response List Members Api V1 Workspaces  Workspace Id  Members Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to list workspace members.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow member access.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "workspaces"
        ],
        "summary": "Add a member to a workspace",
        "operationId": "add_member_api_v1_workspaces__workspace_id__members_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkspaceMemberCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkspaceMember"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage workspace members.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow member management.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Workspace or user not found.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "409": {
            "description": "User is already a member of the workspace.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/roles": {
      "get": {
        "tags": [
          "workspaces"
        ],
        "summary": "List roles available to the workspace",
        "operationId": "list_workspace_roles_api_v1_workspaces__workspace_id__roles_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RoleRead"
                  },
                  "title": "Response List Workspace Roles Api V1 Workspaces  Workspace Id  Roles Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to list workspace roles.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow viewing role definitions.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "workspaces"
        ],
        "summary": "Create a workspace role",
        "operationId": "create_workspace_role_api_v1_workspaces__workspace_id__roles_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleRead"
                }
              }
            }
          },
          "400": {
            "description": "System roles cannot be managed via this endpoint.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage workspace roles.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow managing roles.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "409": {
            "description": "Role slug already exists or conflicts with a system role.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Invalid role name, slug, or permissions.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/roles/{role_id}": {
      "put": {
        "tags": [
          "workspaces"
        ],
        "summary": "Update a workspace role",
        "operationId": "update_workspace_role_api_v1_workspaces__workspace_id__roles__role_id__put",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Role Id"
            }
          },
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleRead"
                }
              }
            }
          },
          "400": {
            "description": "System roles cannot be modified.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage workspace roles.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow managing roles.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Role not found for this workspace.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "409": {
            "description": "Operation would violate governor guardrails.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Invalid role payload.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "workspaces"
        ],
        "summary": "Delete a workspace role",
        "operationId": "delete_workspace_role_api_v1_workspaces__workspace_id__roles__role_id__delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Role Id"
            }
          },
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "400": {
            "description": "System roles cannot be deleted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage workspace roles.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow managing roles.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Role not found for this workspace.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "409": {
            "description": "Role is assigned or would violate governor guardrails.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/members/{membership_id}/roles": {
      "put": {
        "tags": [
          "workspaces"
        ],
        "summary": "Replace the set of roles for a workspace member",
        "operationId": "update_member_api_v1_workspaces__workspace_id__members__membership_id__roles_put",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "membership_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Membership identifier",
              "title": "Membership Id"
            },
            "description": "Membership identifier"
          },
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkspaceMemberRolesUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkspaceMember"
                }
              }
            }
          },
          "400": {
            "description": "Workspace must retain at least one owner.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage workspace members.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow member management.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Membership not found within the workspace.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/members/{membership_id}": {
      "delete": {
        "tags": [
          "workspaces"
        ],
        "summary": "Remove a workspace member",
        "operationId": "remove_member_api_v1_workspaces__workspace_id__members__membership_id__delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "membership_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Membership identifier",
              "title": "Membership Id"
            },
            "description": "Membership identifier"
          },
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DefaultResponse"
                }
              }
            }
          },
          "400": {
            "description": "Workspace must retain at least one owner.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to manage workspace members.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow member management.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Membership not found within the workspace.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/default": {
      "post": {
        "tags": [
          "workspaces"
        ],
        "summary": "Mark a workspace as the caller's default",
        "operationId": "set_default_workspace_api_v1_workspaces__workspace_id__default_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkspaceDefaultSelection"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to set the default workspace.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace access denied for the authenticated user.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/documents": {
      "post": {
        "tags": [
          "documents"
        ],
        "summary": "Upload a document",
        "operationId": "upload_document_api_v1_workspaces__workspace_id__documents_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_document_api_v1_workspaces__workspace_id__documents_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentRecord"
                }
              }
            }
          },
          "400": {
            "description": "Metadata payload or expiration timestamp is invalid.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to upload documents.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow document uploads.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "413": {
            "description": "Uploaded file exceeds the configured size limit.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "List documents",
        "operationId": "list_documents_api_v1_workspaces__workspace_id__documents_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 25,
              "title": "Page Size"
            }
          },
          {
            "name": "include_total",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Include Total"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "CSV; prefix '-' for DESC. Allowed: byte_size, created_at, id, last_run_at, name, source, status. Example: -created_at,name",
              "title": "Sort"
            },
            "description": "CSV; prefix '-' for DESC. Allowed: byte_size, created_at, id, last_run_at, name, source, status. Example: -created_at,name"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to list documents.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow document access.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "400": {
            "description": "Query parameters are invalid or unsupported.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/documents/{document_id}": {
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "Retrieve document metadata",
        "operationId": "read_document_api_v1_workspaces__workspace_id__documents__document_id__get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Document identifier",
              "title": "Document Id"
            },
            "description": "Document identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentRecord"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required to access documents.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow document access.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Document not found within the workspace.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "documents"
        ],
        "summary": "Soft delete a document",
        "operationId": "delete_document_api_v1_workspaces__workspace_id__documents__document_id__delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Document identifier",
              "title": "Document Id"
            },
            "description": "Document identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Authentication required to delete documents.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow document deletion.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Document not found within the workspace.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/documents/{document_id}/download": {
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "Download a stored document",
        "operationId": "download_document_api_v1_workspaces__workspace_id__documents__document_id__download_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Document identifier",
              "title": "Document Id"
            },
            "description": "Document identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "401": {
            "description": "Authentication required to download documents.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "403": {
            "description": "Workspace permissions do not allow document downloads.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "404": {
            "description": "Document is missing or its stored file is unavailable.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/configurations": {
      "get": {
        "tags": [
          "configs"
        ],
        "summary": "List configurations for a workspace",
        "operationId": "list_configurations_api_v1_workspaces__workspace_id__configurations_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConfigurationRecord"
                  },
                  "title": "Response List Configurations Api V1 Workspaces  Workspace Id  Configurations Get"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "configs"
        ],
        "summary": "Create a configuration from a template or clone",
        "operationId": "create_configuration_api_v1_workspaces__workspace_id__configurations_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigurationCreate",
                "description": "Display name and template/clone source for the configuration."
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigurationRecord"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Conflict"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unprocessable Entity"
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/configurations/{config_id}": {
      "get": {
        "tags": [
          "configs"
        ],
        "summary": "Retrieve configuration metadata",
        "operationId": "read_configuration_api_v1_workspaces__workspace_id__configurations__config_id__get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigurationRecord"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/configurations/{config_id}/files": {
      "get": {
        "tags": [
          "configs"
        ],
        "summary": "List editable files and directories",
        "operationId": "list_config_files_api_v1_workspaces__workspace_id__configurations__config_id__files_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          },
          {
            "name": "prefix",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "",
              "title": "Prefix"
            }
          },
          {
            "name": "depth",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "0",
                "1",
                "infinity"
              ],
              "type": "string",
              "default": "infinity",
              "title": "Depth"
            }
          },
          {
            "name": "include",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "title": "Include"
            }
          },
          {
            "name": "exclude",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "title": "Exclude"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 5000,
              "minimum": 1,
              "default": 1000,
              "title": "Limit"
            }
          },
          {
            "name": "page_token",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Page Token"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "path",
                "name",
                "mtime",
                "size"
              ],
              "type": "string",
              "default": "path",
              "title": "Sort"
            }
          },
          {
            "name": "order",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "asc",
                "desc"
              ],
              "type": "string",
              "default": "asc",
              "title": "Order"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileListing"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/configurations/{config_id}/validate": {
      "post": {
        "tags": [
          "configs"
        ],
        "summary": "Validate the configuration on disk",
        "operationId": "validate_configuration_api_v1_workspaces__workspace_id__configurations__config_id__validate_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigurationValidateResponse"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Conflict"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/configurations/{config_id}/files/{file_path}": {
      "get": {
        "tags": [
          "configs"
        ],
        "summary": "Read Config File",
        "operationId": "read_config_file_api_v1_workspaces__workspace_id__configurations__config_id__files__file_path__get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          },
          {
            "name": "file_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Path"
            }
          },
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              },
              "application/octet-stream": {}
            }
          },
          "206": {
            "content": {
              "application/octet-stream": {}
            },
            "description": "Partial Content"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "304": {
            "description": "Not Modified"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "head": {
        "tags": [
          "configs"
        ],
        "summary": "Head Config File",
        "operationId": "head_config_file_api_v1_workspaces__workspace_id__configurations__config_id__files__file_path__head",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          },
          {
            "name": "file_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "configs"
        ],
        "summary": "Upsert Config File",
        "operationId": "upsert_config_file_api_v1_workspaces__workspace_id__configurations__config_id__files__file_path__put",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          },
          {
            "name": "file_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Path"
            }
          },
          {
            "name": "parents",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Parents"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileWriteResponse"
                }
              }
            }
          },
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileWriteResponse"
                }
              }
            },
            "description": "Created"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "configs"
        ],
        "summary": "Delete Config File",
        "operationId": "delete_config_file_api_v1_workspaces__workspace_id__configurations__config_id__files__file_path__delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          },
          {
            "name": "file_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Path"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Conflict"
          },
          "412": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Precondition Failed"
          },
          "428": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Precondition Required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "configs"
        ],
        "summary": "Rename or move a file",
        "operationId": "rename_config_file_api_v1_workspaces__workspace_id__configurations__config_id__files__file_path__patch",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          },
          {
            "name": "file_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Path"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FileRenameRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileRenameResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/configurations/{config_id}/activate": {
      "post": {
        "tags": [
          "configs"
        ],
        "summary": "Activate a configuration",
        "operationId": "activate_configuration_endpoint_api_v1_workspaces__workspace_id__configurations__config_id__activate_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigurationActivateRequest",
                "description": "Activation options.",
                "default": {
                  "ensure_build": false
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigurationRecord"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Conflict"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unprocessable Entity"
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/configurations/{config_id}/deactivate": {
      "post": {
        "tags": [
          "configs"
        ],
        "summary": "Deactivate a configuration (was 'archive')",
        "operationId": "deactivate_configuration_endpoint_api_v1_workspaces__workspace_id__configurations__config_id__deactivate_post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigurationRecord"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/configurations/{config_id}/export": {
      "get": {
        "tags": [
          "configs"
        ],
        "summary": "Export Config",
        "operationId": "export_config_api_v1_workspaces__workspace_id__configurations__config_id__export_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          },
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zip",
              "title": "Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              },
              "application/zip": {}
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/configurations/{config_id}/directories/{directory_path}": {
      "post": {
        "tags": [
          "configs"
        ],
        "summary": "Create Config Directory",
        "operationId": "create_config_directory_api_v1_workspaces__workspace_id__configurations__config_id__directories__directory_path__post",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          },
          {
            "name": "directory_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Directory Path"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Create Config Directory Api V1 Workspaces  Workspace Id  Configurations  Config Id  Directories  Directory Path  Post"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Conflict"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "configs"
        ],
        "summary": "Delete Config Directory",
        "operationId": "delete_config_directory_api_v1_workspaces__workspace_id__configurations__config_id__directories__directory_path__delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          },
          {
            "name": "directory_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Directory Path"
            }
          },
          {
            "name": "recursive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Recursive"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Conflict"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workspaces/{workspace_id}/configurations/{config_id}/build": {
      "get": {
        "tags": [
          "builds"
        ],
        "summary": "Get the active build pointer",
        "operationId": "get_build_api_v1_workspaces__workspace_id__configurations__config_id__build_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BuildRecord"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "builds"
        ],
        "summary": "Ensure the configuration build exists and is current",
        "operationId": "ensure_build_api_v1_workspaces__workspace_id__configurations__config_id__build_put",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BuildEnsureRequest",
                "description": "Options for ensuring the configuration build is up-to-date.",
                "default": {
                  "force": false
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BuildEnsureResponse"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Conflict"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "builds"
        ],
        "summary": "Delete the active build and remove its virtual environment",
        "operationId": "delete_build_api_v1_workspaces__workspace_id__configurations__config_id__build_delete",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          },
          {
            "HTTPBearer": []
          },
          {
            "APIKeyHeader": []
          },
          {
            "SessionCookie": []
          }
        ],
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Workspace identifier",
              "title": "Workspace Id"
            },
            "description": "Workspace identifier"
          },
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Configuration identifier",
              "title": "Config Id"
            },
            "description": "Configuration identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Forbidden"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            },
            "description": "Not Found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "APIKeyIssueRequest": {
        "properties": {
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "expires_in_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 3650.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires In Days"
          },
          "label": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Label"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "APIKeyIssueRequest",
        "description": "Payload for issuing a new API key."
      },
      "APIKeyIssueResponse": {
        "properties": {
          "api_key": {
            "type": "string",
            "title": "Api Key"
          },
          "principal_type": {
            "type": "string",
            "enum": [
              "user",
              "service_account"
            ],
            "title": "Principal Type"
          },
          "principal_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Principal Id",
            "description": "ULID (26-character string)."
          },
          "principal_label": {
            "type": "string",
            "title": "Principal Label"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Label"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "api_key",
          "principal_type",
          "principal_id",
          "principal_label"
        ],
        "title": "APIKeyIssueResponse",
        "description": "Representation of a freshly issued API key secret."
      },
      "APIKeySummary": {
        "properties": {
          "api_key_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Api Key Id",
            "description": "ULID (26-character string)."
          },
          "principal_type": {
            "type": "string",
            "enum": [
              "user",
              "service_account"
            ],
            "title": "Principal Type"
          },
          "principal_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Principal Id",
            "description": "ULID (26-character string)."
          },
          "principal_label": {
            "type": "string",
            "title": "Principal Label"
          },
          "token_prefix": {
            "type": "string",
            "title": "Token Prefix"
          },
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Label"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "last_seen_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Seen At"
          },
          "last_seen_ip": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Seen Ip"
          },
          "last_seen_user_agent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Seen User Agent"
          },
          "revoked_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revoked At"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "api_key_id",
          "principal_type",
          "principal_id",
          "principal_label",
          "token_prefix",
          "created_at"
        ],
        "title": "APIKeySummary",
        "description": "Metadata describing an issued API key."
      },
      "AuthProvider": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "label": {
            "type": "string",
            "title": "Label"
          },
          "start_url": {
            "type": "string",
            "title": "Start Url"
          },
          "icon_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon Url"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "id",
          "label",
          "start_url"
        ],
        "title": "AuthProvider",
        "description": "Representation of an interactive authentication provider."
      },
      "Body_upload_document_api_v1_workspaces__workspace_id__documents_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_document_api_v1_workspaces__workspace_id__documents_post"
      },
      "BuildEnsureRequest": {
        "properties": {
          "force": {
            "type": "boolean",
            "title": "Force",
            "description": "Force rebuild even if fingerprint matches",
            "default": false
          },
          "wait": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Wait",
            "description": "When true, wait up to ADE_BUILD_ENSURE_WAIT_SECONDS for an in-progress build to finish. When omitted, the default depends on the caller."
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "BuildEnsureRequest",
        "description": "Body accepted by PUT /build to trigger a rebuild."
      },
      "BuildEnsureResponse": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/BuildStatus",
            "description": "Resulting build status"
          },
          "build": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BuildRecord"
              },
              {
                "type": "null"
              }
            ],
            "description": "Active build pointer when available"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "status"
        ],
        "title": "BuildEnsureResponse",
        "description": "Response returned by ensure_build endpoints."
      },
      "BuildRecord": {
        "properties": {
          "workspace_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Workspace Id",
            "description": "Workspace identifier"
          },
          "config_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Config Id",
            "description": "Configuration identifier"
          },
          "build_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Build Id",
            "description": "Build identifier (ULID)"
          },
          "status": {
            "$ref": "#/components/schemas/BuildStatus",
            "description": "Current lifecycle status"
          },
          "environment_ref": {
            "type": "string",
            "title": "Environment Ref",
            "description": "Opaque identifier referencing the build's execution environment."
          },
          "config_version": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config Version",
            "description": "Configuration version when built"
          },
          "content_digest": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Digest",
            "description": "Content fingerprint of the config"
          },
          "engine_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Engine Version",
            "description": "Installed ADE engine version"
          },
          "engine_spec": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Engine Spec",
            "description": "Engine installation spec"
          },
          "python_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Python Version",
            "description": "Interpreter version used"
          },
          "python_interpreter": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Python Interpreter",
            "description": "Path to the interpreter used for venv creation"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "When the build began"
          },
          "built_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Built At",
            "description": "When the build completed"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "When the build expires, if set"
          },
          "last_used_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used At",
            "description": "Last time the build was used"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message, if build failed"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "workspace_id",
          "config_id",
          "build_id",
          "status",
          "environment_ref"
        ],
        "title": "BuildRecord",
        "description": "Serialized representation of a configuration build pointer."
      },
      "BuildStatus": {
        "type": "string",
        "enum": [
          "building",
          "active",
          "inactive",
          "failed"
        ],
        "title": "BuildStatus",
        "description": "Lifecycle states for configuration build records."
      },
      "ConfigSourceClone": {
        "properties": {
          "type": {
            "type": "string",
            "const": "clone",
            "title": "Type"
          },
          "config_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Config Id",
            "description": "ULID (26-character string)."
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "type",
          "config_id"
        ],
        "title": "ConfigSourceClone",
        "description": "Reference to an existing workspace config."
      },
      "ConfigSourceTemplate": {
        "properties": {
          "type": {
            "type": "string",
            "const": "template",
            "title": "Type"
          },
          "template_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Template Id"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "type",
          "template_id"
        ],
        "title": "ConfigSourceTemplate",
        "description": "Reference to a bundled template."
      },
      "ConfigValidationIssue": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "path",
          "message"
        ],
        "title": "ConfigValidationIssue",
        "description": "Description of a validation issue found on disk."
      },
      "ConfigurationActivateRequest": {
        "properties": {
          "ensure_build": {
            "type": "boolean",
            "title": "Ensure Build",
            "default": false
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "ConfigurationActivateRequest",
        "description": "Activation control flags."
      },
      "ConfigurationCreate": {
        "properties": {
          "display_name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Display Name"
          },
          "source": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/ConfigSourceTemplate"
              },
              {
                "$ref": "#/components/schemas/ConfigSourceClone"
              }
            ],
            "title": "Source",
            "discriminator": {
              "propertyName": "type",
              "mapping": {
                "clone": "#/components/schemas/ConfigSourceClone",
                "template": "#/components/schemas/ConfigSourceTemplate"
              }
            }
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "display_name",
          "source"
        ],
        "title": "ConfigurationCreate",
        "description": "Payload for creating a configuration."
      },
      "ConfigurationRecord": {
        "properties": {
          "workspace_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Workspace Id",
            "description": "ULID (26-character string)."
          },
          "config_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Config Id",
            "description": "ULID (26-character string)."
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "status": {
            "$ref": "#/components/schemas/ConfigurationStatus"
          },
          "config_version": {
            "type": "integer",
            "title": "Config Version"
          },
          "content_digest": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Digest"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "activated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Activated At"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "workspace_id",
          "config_id",
          "display_name",
          "status",
          "config_version",
          "created_at",
          "updated_at"
        ],
        "title": "ConfigurationRecord",
        "description": "Serialized configuration metadata."
      },
      "ConfigurationStatus": {
        "type": "string",
        "enum": [
          "draft",
          "active",
          "inactive"
        ],
        "title": "ConfigurationStatus",
        "description": "Lifecycle states for workspace configuration packages."
      },
      "ConfigurationValidateResponse": {
        "properties": {
          "workspace_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Workspace Id",
            "description": "ULID (26-character string)."
          },
          "config_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Config Id",
            "description": "ULID (26-character string)."
          },
          "status": {
            "$ref": "#/components/schemas/ConfigurationStatus"
          },
          "content_digest": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Digest"
          },
          "issues": {
            "items": {
              "$ref": "#/components/schemas/ConfigValidationIssue"
            },
            "type": "array",
            "title": "Issues"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "workspace_id",
          "config_id",
          "status",
          "issues"
        ],
        "title": "ConfigurationValidateResponse",
        "description": "Result of running validation."
      },
      "DefaultResponse": {
        "properties": {
          "status": {
            "type": "boolean",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "status",
          "message"
        ],
        "title": "DefaultResponse",
        "description": "Consistent envelope for success/failure acknowledgements."
      },
      "DocumentListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/DocumentRecord"
            },
            "type": "array",
            "title": "Items"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "has_next": {
            "type": "boolean",
            "title": "Has Next"
          },
          "has_previous": {
            "type": "boolean",
            "title": "Has Previous"
          },
          "total": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "items",
          "page",
          "page_size",
          "has_next",
          "has_previous"
        ],
        "title": "DocumentListResponse",
        "description": "Paginated envelope of document records."
      },
      "DocumentRecord": {
        "properties": {
          "document_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Document Id",
            "description": "Document ULID (26-character string)."
          },
          "workspace_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Workspace Id",
            "description": "ULID (26-character string)."
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name mapped from the original filename."
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type"
          },
          "byte_size": {
            "type": "integer",
            "title": "Byte Size"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "status": {
            "$ref": "#/components/schemas/DocumentStatus"
          },
          "source": {
            "$ref": "#/components/schemas/DocumentSource"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At"
          },
          "last_run_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Run At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At"
          },
          "deleted_by": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted By"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags applied to the document (empty list when none)."
          },
          "uploader": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UploaderSummary"
              },
              {
                "type": "null"
              }
            ],
            "description": "Summary of the uploading user when available."
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "document_id",
          "workspace_id",
          "name",
          "byte_size",
          "status",
          "source",
          "expires_at",
          "created_at",
          "updated_at"
        ],
        "title": "DocumentRecord",
        "description": "Serialised representation of a stored document."
      },
      "DocumentSource": {
        "type": "string",
        "enum": [
          "manual_upload"
        ],
        "title": "DocumentSource",
        "description": "Origins for uploaded documents."
      },
      "DocumentStatus": {
        "type": "string",
        "enum": [
          "uploaded",
          "processing",
          "processed",
          "failed",
          "archived"
        ],
        "title": "DocumentStatus",
        "description": "Canonical document processing states."
      },
      "EffectivePermissionsResponse": {
        "properties": {
          "global_permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Global Permissions"
          },
          "workspace_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "Workspace Id"
          },
          "workspace_permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Workspace Permissions"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "EffectivePermissionsResponse",
        "description": "Effective permissions for the authenticated principal."
      },
      "ErrorMessage": {
        "properties": {
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "additionalProperties": true,
                "type": "object"
              }
            ],
            "title": "Detail"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "detail"
        ],
        "title": "ErrorMessage",
        "description": "Standard error envelope mirroring FastAPI's ``{\"detail\": ...}`` payload."
      },
      "FileCapabilities": {
        "properties": {
          "editable": {
            "type": "boolean",
            "title": "Editable"
          },
          "can_create": {
            "type": "boolean",
            "title": "Can Create"
          },
          "can_delete": {
            "type": "boolean",
            "title": "Can Delete"
          },
          "can_rename": {
            "type": "boolean",
            "title": "Can Rename"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "editable",
          "can_create",
          "can_delete",
          "can_rename"
        ],
        "title": "FileCapabilities"
      },
      "FileEntry": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "parent": {
            "type": "string",
            "title": "Parent"
          },
          "kind": {
            "type": "string",
            "enum": [
              "file",
              "dir"
            ],
            "title": "Kind"
          },
          "depth": {
            "type": "integer",
            "title": "Depth"
          },
          "size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Size"
          },
          "mtime": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mtime"
          },
          "etag": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Etag"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type"
          },
          "has_children": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Has Children"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "path",
          "name",
          "parent",
          "kind",
          "depth"
        ],
        "title": "FileEntry"
      },
      "FileListing": {
        "properties": {
          "workspace_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Workspace Id",
            "description": "ULID (26-character string)."
          },
          "config_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Config Id",
            "description": "ULID (26-character string)."
          },
          "status": {
            "$ref": "#/components/schemas/ConfigurationStatus"
          },
          "capabilities": {
            "$ref": "#/components/schemas/FileCapabilities"
          },
          "root": {
            "type": "string",
            "title": "Root"
          },
          "prefix": {
            "type": "string",
            "title": "Prefix"
          },
          "depth": {
            "type": "string",
            "enum": [
              "0",
              "1",
              "infinity"
            ],
            "title": "Depth"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At"
          },
          "fileset_hash": {
            "type": "string",
            "title": "Fileset Hash"
          },
          "summary": {
            "$ref": "#/components/schemas/FileListingSummary"
          },
          "limits": {
            "$ref": "#/components/schemas/FileSizeLimits"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "next_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Token"
          },
          "entries": {
            "items": {
              "$ref": "#/components/schemas/FileEntry"
            },
            "type": "array",
            "title": "Entries"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "workspace_id",
          "config_id",
          "status",
          "capabilities",
          "root",
          "prefix",
          "depth",
          "generated_at",
          "fileset_hash",
          "summary",
          "limits",
          "count",
          "entries"
        ],
        "title": "FileListing"
      },
      "FileListingSummary": {
        "properties": {
          "files": {
            "type": "integer",
            "title": "Files"
          },
          "directories": {
            "type": "integer",
            "title": "Directories"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "files",
          "directories"
        ],
        "title": "FileListingSummary"
      },
      "FileRenameRequest": {
        "properties": {
          "op": {
            "type": "string",
            "const": "move",
            "title": "Op",
            "default": "move"
          },
          "to": {
            "type": "string",
            "title": "To"
          },
          "overwrite": {
            "type": "boolean",
            "title": "Overwrite",
            "default": false
          },
          "dest_if_match": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dest If Match"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "to"
        ],
        "title": "FileRenameRequest"
      },
      "FileRenameResponse": {
        "properties": {
          "from": {
            "type": "string",
            "title": "From"
          },
          "to": {
            "type": "string",
            "title": "To"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "mtime": {
            "type": "string",
            "format": "date-time",
            "title": "Mtime"
          },
          "etag": {
            "type": "string",
            "title": "Etag"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "from",
          "to",
          "size",
          "mtime",
          "etag"
        ],
        "title": "FileRenameResponse"
      },
      "FileSizeLimits": {
        "properties": {
          "code_max_bytes": {
            "type": "integer",
            "title": "Code Max Bytes"
          },
          "asset_max_bytes": {
            "type": "integer",
            "title": "Asset Max Bytes"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "code_max_bytes",
          "asset_max_bytes"
        ],
        "title": "FileSizeLimits"
      },
      "FileWriteResponse": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "created": {
            "type": "boolean",
            "title": "Created"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "mtime": {
            "type": "string",
            "format": "date-time",
            "title": "Mtime"
          },
          "etag": {
            "type": "string",
            "title": "Etag"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "path",
          "created",
          "size",
          "mtime",
          "etag"
        ],
        "title": "FileWriteResponse"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthCheckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "ok",
              "error"
            ],
            "title": "Status",
            "description": "Overall system health indicator."
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "UTC timestamp for when the check executed."
          },
          "components": {
            "items": {
              "$ref": "#/components/schemas/HealthComponentStatus"
            },
            "type": "array",
            "title": "Components",
            "description": "Detailed component-level status information."
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "status",
          "timestamp"
        ],
        "title": "HealthCheckResponse",
        "description": "Top-level payload returned by the `/health` endpoint."
      },
      "HealthComponentStatus": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Component identifier."
          },
          "status": {
            "type": "string",
            "enum": [
              "available",
              "degraded",
              "unavailable"
            ],
            "title": "Status",
            "description": "High-level component status flag."
          },
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detail",
            "description": "Optional human-readable note about the component state."
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name",
          "status"
        ],
        "title": "HealthComponentStatus",
        "description": "Represents the health of an individual system component."
      },
      "LoginRequest": {
        "properties": {
          "email": {
            "title": "Email"
          },
          "password": {
            "type": "string",
            "format": "password",
            "title": "Password",
            "writeOnly": true
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "LoginRequest",
        "description": "Credentials submitted when performing a password login."
      },
      "PermissionCheckRequest": {
        "properties": {
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Permissions"
          },
          "workspace_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "Workspace Id"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "permissions"
        ],
        "title": "PermissionCheckRequest",
        "description": "Batch permission check payload."
      },
      "PermissionCheckResponse": {
        "properties": {
          "results": {
            "additionalProperties": {
              "type": "boolean"
            },
            "type": "object",
            "title": "Results"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "PermissionCheckResponse",
        "description": "Result map produced by the batch permission check."
      },
      "PermissionRead": {
        "properties": {
          "key": {
            "type": "string",
            "title": "Key"
          },
          "resource": {
            "type": "string",
            "title": "Resource"
          },
          "action": {
            "type": "string",
            "title": "Action"
          },
          "scope_type": {
            "$ref": "#/components/schemas/ScopeType"
          },
          "label": {
            "type": "string",
            "title": "Label"
          },
          "description": {
            "type": "string",
            "title": "Description"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "key",
          "resource",
          "action",
          "scope_type",
          "label",
          "description"
        ],
        "title": "PermissionRead",
        "description": "Serialized permission registry entry."
      },
      "PrincipalType": {
        "type": "string",
        "enum": [
          "user"
        ],
        "title": "PrincipalType",
        "description": "Kinds of principals that can hold assignments."
      },
      "ProblemDetail": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Problem type URI.",
            "default": "about:blank"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Short, human-readable summary of the problem."
          },
          "status": {
            "type": "integer",
            "maximum": 599.0,
            "minimum": 100.0,
            "title": "Status",
            "description": "HTTP status code generated."
          },
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detail",
            "description": "Human-readable explanation for this occurrence of the problem."
          },
          "errors": {
            "anyOf": [
              {
                "additionalProperties": {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errors",
            "description": "Optional field-level validation errors."
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "title",
          "status"
        ],
        "title": "ProblemDetail",
        "description": "Problem+JSON payload compatible with RFC 7807."
      },
      "ProviderDiscoveryResponse": {
        "properties": {
          "providers": {
            "items": {
              "$ref": "#/components/schemas/AuthProvider"
            },
            "type": "array",
            "title": "Providers"
          },
          "force_sso": {
            "type": "boolean",
            "title": "Force Sso"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "providers",
          "force_sso"
        ],
        "title": "ProviderDiscoveryResponse",
        "description": "Response payload returned by `/auth/providers`."
      },
      "RoleAssignmentCreate": {
        "properties": {
          "role_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Role Id",
            "description": "ULID (26-character string)."
          },
          "principal_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "Principal Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "role_id"
        ],
        "title": "RoleAssignmentCreate",
        "description": "Payload for creating a role assignment."
      },
      "RoleAssignmentRead": {
        "properties": {
          "assignment_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Assignment Id",
            "description": "ULID (26-character string)."
          },
          "principal_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Principal Id",
            "description": "ULID (26-character string)."
          },
          "principal_type": {
            "$ref": "#/components/schemas/PrincipalType"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "user_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Email"
          },
          "user_display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Display Name"
          },
          "role_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Role Id",
            "description": "ULID (26-character string)."
          },
          "role_slug": {
            "type": "string",
            "title": "Role Slug"
          },
          "scope_type": {
            "$ref": "#/components/schemas/ScopeType"
          },
          "scope_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "Scope Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "assignment_id",
          "principal_id",
          "principal_type",
          "role_id",
          "role_slug",
          "scope_type",
          "created_at"
        ],
        "title": "RoleAssignmentRead",
        "description": "Serialized representation of a role assignment."
      },
      "RoleCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 150,
            "minLength": 1,
            "title": "Name"
          },
          "slug": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Slug"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name"
        ],
        "title": "RoleCreate",
        "description": "Payload for creating a workspace or global role."
      },
      "RoleRead": {
        "properties": {
          "role_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Role Id",
            "description": "ULID (26-character string)."
          },
          "slug": {
            "type": "string",
            "title": "Slug"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "scope_type": {
            "$ref": "#/components/schemas/ScopeType"
          },
          "scope_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "Scope Id"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions"
          },
          "built_in": {
            "type": "boolean",
            "title": "Built In"
          },
          "editable": {
            "type": "boolean",
            "title": "Editable"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "role_id",
          "slug",
          "name",
          "scope_type",
          "permissions",
          "built_in",
          "editable"
        ],
        "title": "RoleRead",
        "description": "Serialized representation of a role definition."
      },
      "RoleUpdate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 150,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name"
        ],
        "title": "RoleUpdate",
        "description": "Payload for updating an existing role."
      },
      "ScopeType": {
        "type": "string",
        "enum": [
          "global",
          "workspace"
        ],
        "title": "ScopeType",
        "description": "Scope dimensions supported by RBAC."
      },
      "SessionEnvelope": {
        "properties": {
          "user": {
            "$ref": "#/components/schemas/UserProfile"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "refresh_expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Expires At"
          },
          "return_to": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Return To"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "user"
        ],
        "title": "SessionEnvelope",
        "description": "Envelope returned when a session is established or refreshed."
      },
      "SetupRequest": {
        "properties": {
          "email": {
            "title": "Email"
          },
          "password": {
            "type": "string",
            "format": "password",
            "title": "Password",
            "writeOnly": true
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "SetupRequest",
        "description": "Payload submitted when creating the first administrator."
      },
      "SetupStatus": {
        "properties": {
          "requires_setup": {
            "type": "boolean",
            "title": "Requires Setup"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "force_sso": {
            "type": "boolean",
            "title": "Force Sso",
            "default": false
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "requires_setup"
        ],
        "title": "SetupStatus",
        "description": "Response payload describing the initial setup state."
      },
      "UploaderSummary": {
        "properties": {
          "id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Id",
            "description": "Uploader ULID (26-character string)."
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Uploader display name when provided."
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "Uploader email address."
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "id",
          "email"
        ],
        "title": "UploaderSummary",
        "description": "Minimal representation of the user who uploaded the document."
      },
      "UserListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/UserSummary"
            },
            "type": "array",
            "title": "Items"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "has_next": {
            "type": "boolean",
            "title": "Has Next"
          },
          "has_previous": {
            "type": "boolean",
            "title": "Has Previous"
          },
          "total": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "items",
          "page",
          "page_size",
          "has_next",
          "has_previous"
        ],
        "title": "UserListResponse",
        "description": "Paginated collection of users."
      },
      "UserProfile": {
        "properties": {
          "user_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "User Id",
            "description": "ULID (26-character string)."
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_service_account": {
            "type": "boolean",
            "title": "Is Service Account"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          },
          "preferred_workspace_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Workspace Id"
          },
          "roles": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Roles"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "user_id",
          "email",
          "is_active",
          "is_service_account"
        ],
        "title": "UserProfile",
        "description": "Minimal view of the authenticated user."
      },
      "UserSummary": {
        "properties": {
          "user_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "User Id",
            "description": "ULID (26-character string)."
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_service_account": {
            "type": "boolean",
            "title": "Is Service Account"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          },
          "preferred_workspace_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Workspace Id"
          },
          "roles": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Roles"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "user_id",
          "email",
          "is_active",
          "is_service_account",
          "created_at",
          "updated_at"
        ],
        "title": "UserSummary",
        "description": "Extended representation with activation metadata."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WorkspaceCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "slug": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Slug"
          },
          "owner_user_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 26,
                "minLength": 26,
                "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                "description": "ULID (26-character string)."
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner User Id"
          },
          "settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Settings"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name"
        ],
        "title": "WorkspaceCreate",
        "description": "Payload for creating a workspace."
      },
      "WorkspaceDefaultSelection": {
        "properties": {
          "workspace_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Workspace Id",
            "description": "ULID (26-character string)."
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "workspace_id",
          "is_default"
        ],
        "title": "WorkspaceDefaultSelection",
        "description": "Response indicating the caller's default workspace selection."
      },
      "WorkspaceMember": {
        "properties": {
          "workspace_membership_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Workspace Membership Id",
            "description": "ULID (26-character string)."
          },
          "workspace_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Workspace Id",
            "description": "ULID (26-character string)."
          },
          "roles": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Roles"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default"
          },
          "user": {
            "$ref": "#/components/schemas/UserProfile"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "workspace_membership_id",
          "workspace_id",
          "roles",
          "permissions",
          "is_default",
          "user"
        ],
        "title": "WorkspaceMember",
        "description": "Representation of a workspace membership."
      },
      "WorkspaceMemberCreate": {
        "properties": {
          "user_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "User Id",
            "description": "ULID (26-character string)."
          },
          "role_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "maxLength": 26,
                  "minLength": 26,
                  "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
                  "description": "ULID (26-character string)."
                },
                "type": "array",
                "minItems": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Role Ids"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "user_id"
        ],
        "title": "WorkspaceMemberCreate",
        "description": "Payload for adding a member to a workspace."
      },
      "WorkspaceMemberRolesUpdate": {
        "properties": {
          "role_ids": {
            "items": {
              "type": "string",
              "maxLength": 26,
              "minLength": 26,
              "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
              "description": "ULID (26-character string)."
            },
            "type": "array",
            "title": "Role Ids"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "WorkspaceMemberRolesUpdate",
        "description": "Payload used to replace the set of roles for a membership."
      },
      "WorkspaceProfile": {
        "properties": {
          "workspace_id": {
            "type": "string",
            "maxLength": 26,
            "minLength": 26,
            "pattern": "[0-9A-HJKMNP-TV-Z]{26}",
            "title": "Workspace Id",
            "description": "ULID (26-character string)."
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "slug": {
            "type": "string",
            "title": "Slug"
          },
          "roles": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Roles"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "workspace_id",
          "name",
          "slug",
          "roles",
          "permissions",
          "is_default"
        ],
        "title": "WorkspaceProfile",
        "description": "Workspace information decorated with membership metadata."
      },
      "WorkspaceUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "slug": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Slug"
          },
          "settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Settings"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "WorkspaceUpdate",
        "description": "Payload for updating workspace metadata."
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      },
      "APIKeyHeader": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key"
      },
      "SessionCookie": {
        "type": "apiKey",
        "in": "cookie",
        "name": "ade_session",
        "description": "Browser session cookie issued after interactive sign-in."
      }
    }
  },
  "servers": [
    {
      "url": "http://localhost:8000"
    }
  ],
  "security": [
    {
      "SessionCookie": []
    },
    {
      "HTTPBearer": []
    },
    {
      "APIKeyHeader": []
    }
  ]
}
