# ADE environment variables
# Copy only when needed: cp .env.example .env
# Most local users can run: docker compose up --build -d
# Use this file for runtime overrides and production configuration.

# Required for production.
# ADE_PUBLIC_WEB_URL=https://ade.example.com                           # Public base URL (must match external HTTPS URL)
# ADE_DATABASE_URL=postgresql+psycopg://user:pass@db.example.com:5432/ade?sslmode=verify-full
# ADE_SECRET_KEY=replace-with-long-random-secret                       # >=32 bytes, 64+ recommended
# ADE_BLOB_CONTAINER=ade                                                # Blob container name
# ADE_BLOB_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=<account>;AccountKey=<key>;EndpointSuffix=core.windows.net
# ADE_BLOB_ACCOUNT_URL=https://<account>.blob.core.windows.net         # Managed identity auth; set this OR ADE_BLOB_CONNECTION_STRING

# Local development overrides.
# ADE_AUTH_DISABLED=true                                                # true|false; local compose defaults to true
# ADE_SERVICES=api,worker,web                                           # api,worker,web
# ADE_DB_MIGRATE_ON_START=true                                          # true|false
# ADE_PUBLIC_WEB_URL=http://localhost:8000

# Capacity and scaling.
# ADE_API_PROCESSES=2                                                   # API processes per container
# ADE_WORKER_RUN_CONCURRENCY=8                                          # Concurrent runs per worker service
# ADE_API_THREADPOOL_TOKENS=40                                           # AnyIO/Starlette sync threadpool token budget
# ADE_DATABASE_CONNECTION_BUDGET=                                        # Optional warn-only DB capacity budget (integer)
# ADE_WORKER_LEASE_SECONDS=900
# ADE_WORKER_ENV_BUILD_TIMEOUT_SECONDS=600
# ADE_WORKER_RUN_TIMEOUT_SECONDS=

# API proxy/network behavior.
# ADE_API_PROXY_HEADERS_ENABLED=true                                     # true|false; trust X-Forwarded-* headers from trusted proxies
# ADE_API_FORWARDED_ALLOW_IPS=127.0.0.1                                 # Comma-separated trusted proxy IPs/CIDRs, or * in trusted networks only

# Logging.
# ADE_LOG_LEVEL=INFO                                                    # DEBUG|INFO|WARNING|ERROR|CRITICAL
# ADE_LOG_FORMAT=console                                                # console|json
# ADE_API_LOG_LEVEL=                                                    # Optional API-specific override
# ADE_WORKER_LOG_LEVEL=                                                 # Optional worker-specific override

# Storage and data paths.
# ADE_BLOB_PREFIX=workspaces
# ADE_BLOB_VERSIONING_MODE=auto                                         # auto|require|off
# ADE_DATA_DIR=backend/data
# ADE_BLOB_MAX_CONCURRENCY=4
# ADE_BLOB_UPLOAD_CHUNK_SIZE_BYTES=4194304
# ADE_BLOB_DOWNLOAD_CHUNK_SIZE_BYTES=1048576

# Compose-only (not read by ADE app code).
# ADE_DOCKER_TAG=main                                                   # Image tag used by docker-compose.prod*.yaml
# POSTGRES_USER=ade                                                     # Local docker-compose.yaml only
# POSTGRES_PASSWORD=ade                                                 # Local docker-compose.yaml only
# POSTGRES_DB=ade                                                       # Local docker-compose.yaml only
# AZURITE_ACCOUNTS=devstoreaccount1:<key>                              # Local docker-compose.yaml only

# Full variable reference: docs/reference/environment-variables.md
